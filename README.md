# Walkie Talkie (WebRTC 音声通話サンプル)

Node.js + WebRTC で動作するシンプルな音声通話デモです。Express で静的ファイルを配信し、WebSocket でシグナリングを行います。クライアントは同じルーム名を入力するだけでピア同士が接続され、音声をやり取りできます。

## 前提条件
- Node.js 18 以上

## セットアップ
```
npm install
```

## 開発・起動
- ホットリロードしながら起動
  ```
  npm run dev
  ```
- 本番相当で起動
  ```
  npm start
  ```
- ポートは `PORT` 環境変数で変更できます（デフォルト: `3000`）。

起動後、ブラウザで `http://localhost:3000` にアクセスします。

## ブラウザでの使い方
1. マイク利用を許可します。
2. ルーム名を入力して「ルームに参加」をクリックします。
3. 別のブラウザ/タブ/端末でも同じルーム名で参加します（同一 LAN 上なら他端末からも可）。
4. 参加者同士で P2P 音声通話が開始され、受信中の音声が画面に表示されます。
5. 「切断」でルームを退出し、すべての接続とメディアを停止します。

## デプロイ/ホスティングのヒント
- サーバーは Node.js の単一プロセスで動作するため、任意のホスティング（VPS、Render、Railway、Fly.io など）で `npm start` を実行するだけで公開できます。
- `PORT` と `HOST`（必要なら `0.0.0.0` を指定）を環境に合わせて設定してください。
- HTTPS 環境ではシグナリング URL が自動的に `wss://` になります。リバースプロキシを使う場合は WebSocket のアップグレードが許可されていることを確認してください。
